---
title: 13、罗马数字转整数
date: 2021-01-06
sidebar: 'auto'
tags: 
  - 算法leetcode
categories:
  - 算法leetcode
---

[罗马数字转整数](https://leetcode-cn.com/problems/roman-to-integer/solution/)

转换表为：  

  | 字符 | 数值  |  进位  |
  |------|------| ---- |
  | I    |   1  |    个位值为1  |
  | V    |   5  |    个位值为5  |
  | X    |   10 |   十位值为1  |
  | L    |   50 |   十位值为5  |
  | C    |   100|  百位值为1  |
  | D    |   500|  百位值为5  |
  | M    |   1000| 千位值为1  |


- 由罗马数字表示规则可知

  - 一般情况下 数字组成：大的数字位+小的数字位 ---- <1>
      - 例如：6：VI 7:VII 8:VIII
      - 可知：数值大小 == 大的数字位+小的数字位 ---- 《1》
      - 再如：1:I 2:II 3: III
  - 但当罗马数字进位值（个、十、百、千）== 9 或 == 4 时，数字组成变为：小的数字+大的数字 ---- <2>


  ```
    例如：4:IV    9:IX  
    40:XL   90:XC  
   400:CD  900:CM  
    可知：数值大小 == 大的数字位-小的数字位 ---- 《2》
  ```

- 由以上分析可知

  - 《1》 即 左边的罗马数字 > 右边的罗马数字时 => 罗马数 == 左边罗马数字对应的阿拉伯数字 + 右边罗马数字对应的阿拉伯数字
  - 《2》 即 左边的罗马数字 < 右边的罗马数字时 => 罗马数 == 左边罗马数字对应的阿拉伯数字的反数即负数 + 右边罗马数字对应的阿拉伯数字
  - 且 罗马数字的转换表在上意味着 所有数字都可以有其中的罗马数字字符组成 => 建立罗马数字和阿拉伯数字 Hash对照表
  - 遍历罗马数字 因为转换表里对应的阿拉伯数字带有千、百、十和个位 所以 不需考虑9，99，999临界位 直接求出总和即可



  ```javascript
    /**
     * @param {string} s
    * @return {number}
    */
    var romanToInt = function(s) {
        let maps = {
            "I": 1,
            "V": 5,
            "X": 10,
            "L": 50,
            "C": 100,
            "D": 500,
            "M": 1000
        }
        let sum = 0
        for (let i = 0; i < s.length; i ++) {
            if (maps[s[i]] < maps[s[i+1]]) {
                sum -= maps[s[i]]
            } else {
                sum += maps[s[i]]
            }
        }
        return sum
    };
  ```

